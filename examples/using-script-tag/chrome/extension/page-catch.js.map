{"version":3,"sources":["webpack:///webpack/bootstrap c3c20c5a659480cbbc80","webpack:///./src/page-catch.coffee","webpack:///./src/modules/xhr-to-base64.coffee","webpack:///./src/modules/get-relative-link.coffee","webpack:///./src/modules/xhr.coffee","webpack:///./src/modules/inline-css.coffee"],"names":[],"mappings":"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","file":"page-catch.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c3c20c5a659480cbbc80","xhrToBase64 = require './modules/xhr-to-base64.coffee'\nconvertURL = require './modules/get-relative-link.coffee'\ngetXHR = require './modules/xhr.coffee'\ninlineCSS = require './modules/inline-css.coffee'\n\n\n\nMETA_ATTRIBS_FOR_DEL = [\n  'Content-Security-Policy'\n  'refresh'\n]\n\nclass TreeElementNotFound extends Error\n\n\n# get array with information of every frame\ngetSource = () ->\n\n  ###!\n  # get frame index in page\n  # @return {String} - frame index\n  # @example 0:3:5\n  ###\n  getFramePath = () ->\n    fid = []\n\n    ###!\n    # add frame-ID into fid[] array (recursive)\n    # @param {Window} win - parent's Window object\n    ###\n    _get_frame_id = (win) ->\n      parent = win.parent\n      return if win == parent\n      idx = '?'\n      for frame, frame_idx in parent.frames\n        if win == frame\n          idx = frame_idx\n          break\n      fid.unshift idx\n      _get_frame_id(parent)\n      return\n    _get_frame_id(window)\n    return fid.join ':'\n\n  ###!\n  # get frame position on content script\n  # @param {HTMLDocument} DOM - DOM document object\n  # @return {Object} - frames position on current frame\n  # @example [3,0,0]: 0\n  ###\n  getElementPath = (DOM) ->\n    dictionary = {}\n\n    ###!\n    # get frameID\n    # @param {HTMLIframeElement} obj - iframe document object\n    # @return {String} - string with index iframe\n    # @example [3,0,0]\n    ###\n    getFrameId = (obj) ->\n      result = []\n      _getPositionOfFrame = (obj)->\n        if obj.parentElement == DOM\n          return\n        else\n          parent = obj.parentElement\n          nodeList = Array.prototype.slice.call(parent.children)\n          index = nodeList.indexOf(obj)\n          result.unshift(index)\n          _getPositionOfFrame(parent)\n      _getPositionOfFrame(obj)\n      #console.log result\n      return JSON.stringify(result)\n\n    frames = DOM.getElementsByTagName 'iframe'\n    #console.log frames.length\n    for iframe in frames\n      i = 0\n      while i<window.frames.length\n        if iframe.contentWindow == window.frames[i]\n          #console.log getFrameId(iframe, DOM)\n          dictionary[getFrameId(iframe, DOM)] = i\n          result = []\n          break\n        i++\n    return dictionary\n\n  ###!\n  # get page doctype with all atributes'\n  # @param {DocumentType} doctype - document doctype object\n  # @return {array} - array with attributes of doctype page\n  # @return null - if doctype is absent\n  # @example [\"html\",\"w3c\",\"\"]\n  ###\n  getDoctype = (doctype)->\n    if doctype?\n      return [doctype.name, doctype.publicId, doctype.systemId]\n    return null\n\n  ###!\n  # get attributes of tag <html ...>...</html>\n  # @param {array} array - array with html attributes\n  # @return {array} - array with attributes of tag <html>\n  # @example [\"lang\",\"en\",\"class\",\"is-copy-enable\"]\n  ###\n  getAttribute = (array)->\n    mas = []\n    for elem in array\n      mas.push(elem.nodeName, elem.nodeValue)\n    return mas\n\n  # Function returns iframe url, content, html-atributes,\n  # iframe-selectors and iframe-path\n  return [\n    document.URL,\n    document.documentElement.innerHTML,\n    getAttribute(document.documentElement.attributes),\n    getFramePath(),\n    getElementPath(document.documentElement),\n    getDoctype(document.doctype)\n  ]\n\n###!\n# convert html text of every frame to DOM-Tree\n# @param {string} htmlText - string with html code\n# @return {HTMLDocument} - created DOM with string\n###\ngetDocument = (htmlText) ->\n  _html = document.createElement 'html'\n  html = document.createElement 'html'\n  html.innerHTML = htmlText.substring(\n    htmlText.indexOf(\"<body\"),\n    htmlText.length\n  )\n  attributesBody = html.getElementsByTagName('body')[0].attributes\n  _html.innerHTML = \"<head></head><body></body>\"\n  _html.getElementsByTagName('head')[0].innerHTML = htmlText.substring(\n    htmlText.indexOf(\"<head\"), htmlText.indexOf(\"/head>\") + 6\n  )\n  _html.getElementsByTagName('body')[0].innerHTML = htmlText.substring(\n    htmlText.indexOf(\"<body\"), htmlText.length\n  )\n  body = _html.getElementsByTagName('body')[0]\n  for attribute in attributesBody\n    body.setAttribute attribute.name, attribute.value\n  return _html\n\n###!\n# get frame position on background script\n# @param {HTMLIframeElement} - iframe that we want find position,\n# @param {HTMLDocument} - DOM that are parent of this iframe,\n# @return {String} - string with iframe position\n# @example [3,0,0]\n###\ngetFramePosition = (obj, DOM) ->\n  result = []\n  _getPositionOfFrame = (obj)->\n    if obj.parentElement == DOM\n      return\n    else\n      parent = obj.parentElement\n      nodeList = Array.prototype.slice.call(parent.children)\n      index = nodeList.indexOf(obj)\n      result.unshift(index)\n      _getPositionOfFrame(parent)\n  _getPositionOfFrame(obj)\n  return JSON.stringify(result)\n\n###!\n# delete iframe security policy\n# @param {HTMLDocument} - DOM object\n###\ndeleteMeta = (document) ->\n  metaElements = document.querySelectorAll('meta[http-equiv]')\n  metaElements.forEach (element) ->\n    if element.getAttribute('http-equiv') in META_ATTRIBS_FOR_DEL\n      element.parentElement?.removeChild(element)\n\n###!\n# delete iframe security policy\n# @param {HTMLDocument} - DOM object\n###\ndeleteSendBoxAttrib = (document) ->\n  iframes = document.querySelectorAll('iframe[sendbox]')\n  iframes.forEach (iframe) ->\n    iframe.removeAttribute('sendbox')\n\n###!\n# add tag meta, that this page is saved by PageCatch\n# @param {HTMLDocument} - DOM of current document,\n# @param {String} - string with url of current iframe,\n###\naddMeta = (DOM, url)->\n  meta = document.createElement 'meta'\n  meta.setAttribute 'name','original-url'\n  meta.setAttribute 'content', url\n  head = (\n    DOM.getElementsByTagName('head')[0] ?\n    DOM.getElementsByTagName('body')[0]\n  )\n  head.insertBefore meta, head.children[0]\n\n###!\n# run functions for delete security policy\n# @param {HTMLDocument} - DOM of current document\n# @param {String} - string with url of current iframe\n###\ndefaultCleanUp = (document,url) ->\n  deleteMeta(document)\n  deleteSendBoxAttrib(document)\n  addMeta(document,url)\n\n###!\n# take html attributes for save\n# @param {array} array - array with attributes of tag <html>...</html>,\n# @param {DocumentElement} status - Doctype of document,\n# @return {String} - string with html code with all atributes + doctype\n# @example \"<! DOCTYPE html> <html lang=\"en\" class=\"is-absent\"><head>...</html>\"\n###\ngetAttribute = (array, status) ->\n  src = \"<html \"\n  for i in [0...array.length] by 2\n    if array[i+1]?\n      src += array[i] + '=\"' + array[i+1] + '\" '\n    else\n      break\n  #console.log status\n  if status?\n    doctype = getDoctype(status)\n    #console.log doctype\n    return doctype + src + \">\"\n  return src += \">\"\n\n###!\n# take doctype with attributes for save\n# @param {array} array - array with attributes of doctype,\n# @return {String} - string with doctype of page\n# @example \"<!DOCTYPE html>\"\n###\ngetDoctype = (array) ->\n  src = \"<!DOCTYPE \"\n  elem = \"\"\n  for i in [0...array.length]\n    continue if not array[i].trim()\n    switch i\n      when 0 then src += array[i] + \" \"\n      when 1 then src += \"PUBLIC \" + '\"' + array[i] + '\" '\n      when 2 then src += '\"' + array[i] + '\"'\n    #console.log src\n  return src + \">\"\n\n###!\n# save page\n# @param {Number} tabID - number of tab which you want to save,\n# @param {Function} cleanUp - function with clean any attributes from page,\n# @param {Function} done - function in which will be return html text of\n#                          saved page\n# @example \"<! DOCTYPE html> <html lang=\"en\" class=\"is-absent\"><head>...</html>\"\n###\ngetPage = (tabID, cleanUp, done) ->\n  dictionary = {}\n  flag = false\n  \n  ###!\n  # parse tags as img,style,link and parse attribute style in any tags with him\n  # @param {Function} callback - function that check completing of save\n  ###\n  parse = (callback) ->\n    metas = dictionary[\"\"]?.document.querySelectorAll '[name]'\n    for meta in metas\n      if meta.getAttribute('name') == 'original-url'\n        flag = true\n        callback 0, 0\n        return\n    attributeCounter = 0\n    tagCounter = 0\n    for key, dom of dictionary\n      tagsStyles = dom.document.querySelectorAll '*[style]'\n      for tag in tagsStyles\n        attributeCounter++\n        inlineCSS tag.getAttribute('style'), tag, dom.url,\n          (error, tag, result) ->\n            attributeCounter--\n            if error?\n              console.error \"Style attr error\", error\n            else\n              tag.setAttribute('style', result)\n            callback tagCounter, attributeCounter\n      tags = dom.document.querySelectorAll 'img,link,style'\n      for tag in tags\n        tagCounter++\n        if(tag.hasAttribute('src'))\n          src = convertURL tag.getAttribute('src'), dom.url\n          xhrToBase64 src, tag, (error, tag, result) ->\n            tagCounter--\n            if error?\n              console.error \"(src)Base 64 error:\", error.stack\n            else\n              tag.setAttribute \"src\", result\n            callback tagCounter, attributeCounter\n        else if(tag.hasAttribute('href'))\n          if(tag.getAttribute('rel') == \"stylesheet\")\n            href = convertURL(tag.getAttribute('href'), dom.url)\n            inlineCSS getXHR(href), tag, href, (error, tag, result) ->\n              if error?\n                console.error \"style error\", error\n              else\n                tagCounter--\n                style = document.createElement 'style'\n                style.innerHTML = result\n                parent = tag.parentElement\n                tag.parentElement.insertBefore style, tag\n                tag.parentElement.removeChild tag\n              callback tagCounter, attributeCounter\n          else\n            href = convertURL(tag.getAttribute('href'), dom.url)\n            xhrToBase64 href, tag, (error, tag, result) ->\n              tagCounter--\n              if error?\n                console.error \"(href) xhrToBase64 error (href=#{href}):\", \\\n                  error.stack\n              else\n                tag.setAttribute \"href\", result\n              callback tagCounter, attributeCounter\n        else\n          inlineCSS tag.innerHTML, tag, dom.url, (error, tag, result) ->\n            tagCounter--\n            if error?\n              console.error \"(style)inlineCSS error:\", error.stack\n              console.error tag.innerHTML\n            else\n              tag.innerHTML = result\n            callback tagCounter, attributeCounter\n    flag = true\n  ###!\n  # create one object from dictionary of frames\n  # @param {Object} obj - obj of dictionary(any frame from page)\n  # @param {String} str - string with current index in recursive\n  ###\n  createNewObj = (obj, str) ->\n    frames = obj.document.getElementsByTagName 'iframe'\n    for frame in frames\n      selector = getFramePosition(frame, obj.document)\n      #console.log selector\n      index = -1\n      for key of obj.framesIdx\n        #console.log key\n        if selector == key\n          index= obj.framesIdx[key]\n      if index == -1\n        continue\n      key = str + index\n      if dictionary[key]?\n        createNewObj dictionary[key], key+\":\"\n        _url = dictionary[key].url\n        _document = dictionary[key].document\n        defaultCleanUp _document, _url\n        cleanUp?(_document, _url)\n        source = getAttribute(\n          dictionary[key].header,\n          dictionary[key].doctype\n        ) + _document.innerHTML + \"</html>\"\n        frame.setAttribute('srcdoc', source)\n\n  ###!\n  # finish and return string with complete all resourses in one HTML\n  # @param {Number} counter - counter of tags\n  # @param {Number} counter1 - counter of attributes\n  ###\n  finalize = (counter, counter1) ->\n    if counter == 0 and counter1 == 0 and flag == true\n      createNewObj dictionary[\"\"],\"\"\n      _url = dictionary[\"\"].url\n      _document = dictionary[\"\"].document\n      defaultCleanUp _document, _url\n      cleanUp?(_document, _url)\n      result = getAttribute(\n        dictionary[\"\"].header, dictionary[\"\"].doctype\n      ) + _document.innerHTML + \"</html>\"\n      done?(result)\n      dictionary = {}\n      flag = false\n\n\n  # START\n  chrome.tabs.executeScript tabID,\n    code: \"(\" + getSource.toString() + \")()\" # transform function to the\n                                             # string and wrap it into the\n                                             # closure to execute it\n                                             # immidiatelly after\n                                             # injecting\n    allFrames: true,\n    matchAboutBlank: true\n  , (arrays) ->\n    for dom in arrays\n      obj =\n        url: dom[0]\n        header: dom[2]\n        document: getDocument(dom[1])\n        framesIdx: dom[4]\n        doctype: dom[5]\n      dictionary[dom[3]] = obj\n    parse(finalize)\n\nmodule.exports = getPage\n\n\n\n// WEBPACK FOOTER //\n// ./~/coffeelint-loader!./src/page-catch.coffee","xhrToBase64 = (url, elem, callback) ->\n  if(url.indexOf(\"data:\") >= 0)\n    callback null, elem, url\n  else\n    #console.log \"xhr-to-base64: Url='#{url}'\"\n    xhr = new XMLHttpRequest()\n    xhr.open 'GET', url, true\n    xhr.responseType = 'blob'\n    reader = new FileReader()\n\n    xhr.onload = (e) ->\n      #console.log \"xhr-to-base64: XHR LOAD\"\n      if this.status != 200\n        callback null, elem, \" \", url\n      else\n        blob = this.response\n        reader.onloadend = () ->\n          callback null, elem, reader.result, url\n        reader.readAsDataURL(blob)\n\n    xhr.onerror = (e) ->\n      console.error \"XHR Error \" + \\\n        e.target.status + \\\n        \" occurred while receiving the document.\"\n      callback e, elem, url,url\n\n    xhr.send()\n\nmodule.exports = xhrToBase64\n\n\n\n// WEBPACK FOOTER //\n// ./~/coffeelint-loader!./src/modules/xhr-to-base64.coffee","\ntakeMain = (main, counter, flag) ->\n  if flag == true\n    url = document.createElement('a')\n    url.href = main\n    return url.protocol + \"//\" + url.hostname\n  i = main.length\n  while main[i] != \"/\" then i--\n  main = main.substr 0, i\n  i = main.length\n  while counter != 0\n    counter-- if main[i] == \"/\"\n    i--\n  main = main.substr 0, i + 1\n  return main\n\n\ntakeUrl = (url) ->\n  i = 0\n  counter = 0\n  while url.indexOf(\"..\", i) != -1 and url.indexOf(\"./\", i) != -1\n    if url.indexOf(\"..\", i) == -1\n      i = url.indexOf(\"./\", i) + 2\n    else\n      counter++\n      i = url.indexOf(\"..\", i) + 3\n  if counter == 0 and url[0] == \"/\"\n    url = url.substr 1\n    return [url, counter, true]\n  if i != 0\n    url = url.substr i\n  return [url, counter, false]\n\n\ngetEnd = (main) ->\n  i = main.length - 1\n  result = \"\"\n  while main[i] != \"/\"\n    result = main[i] + result\n    i--\n  return result\n\n\nmodule.exports = (url, main) ->\n  url = url.replace(/\\s/g, '')\n  #console.warn \"URL: \",url\n  #console.warn \"MAIN: \",main\n  if (\n    (url[0] == '\"' and url[url.length - 1] == '\"') or\n    (url[0] == \"'\" and url[url.length - 1] == \"'\")\n  )\n    url= url.substr 1, url.length - 2\n\n  if url[0] == \"/\" and url[1] == \"/\"\n    return \"https:\" + url\n\n  if url.match(/^[\\w\\-_\\d]+:/)\n    return url\n\n  URI = takeUrl(url)\n  url = URI[0]\n  if URI[2] == true\n    return takeMain(main, URI[1], URI[2]) + \"/\" + url\n  else\n    return takeMain(main, URI[1], URI[2]) + \"/\" + url\n\n\n\n// WEBPACK FOOTER //\n// ./~/coffeelint-loader!./src/modules/get-relative-link.coffee","module.exports = (url) ->\n  try\n    #console.log \"xhr: Url ='#{url}'\"\n    xhr = new XMLHttpRequest()\n    xhr.open 'GET', url, false\n    xhr.send()\n    if xhr.status ==200\n      return xhr.responseText\n    else\n      return \" \"\n  catch e\n    console.error \"XHR\", e.stack\n    return \" \"\n\n\n\n// WEBPACK FOOTER //\n// ./~/coffeelint-loader!./src/modules/xhr.coffee","convertURL = require '../modules/get-relative-link.coffee'\nconvertToBase64 = require '../modules/xhr-to-base64.coffee'\n\n\nmodule.exports = (src, dom, source, callback) ->\n  if(src.indexOf(\"url(\") < 0)\n    callback null, dom, src\n  else\n    #console.log \"inline-css:\", src, dom\n    urlMas = []\n    elemMas = []\n    convMas = []\n    i = 0\n    while i < src.length\n      k = src.indexOf \"url(\", i\n      if k!= -1\n        elemMas.push src.substring(i, k+4)\n        j = src.indexOf \")\", k+1\n        urlMas.push convertURL(src.substring(k+4, j), source)\n        i = j\n      else\n        elemMas.push src.substring(i, src.length)\n        break\n    counter = urlMas.length\n    for i in [0...urlMas.length]\n      convertToBase64 urlMas[i], dom, (error, obj, result, url) ->\n        counter--\n        if error?\n          console.error \"Error base64:\", error.stack\n        else\n          convMas.push([url, result])\n\n        if counter == 0\n          src = \"\"\n          i = 0\n          for elem in elemMas\n            src += elem\n            if urlMas[i]?\n              j = -1\n              for conv, index in convMas\n                if conv[0] == urlMas[i]\n                  j = index\n                  break\n              if j >= 0\n                src += convMas[j][1]\n              i++\n          callback null, dom, src\n\n\n\n// WEBPACK FOOTER //\n// ./~/coffeelint-loader!./src/modules/inline-css.coffee"],"sourceRoot":""}